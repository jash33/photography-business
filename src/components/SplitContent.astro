---
interface Props {
  image: string;
  imageAlt?: string;
  imagePosition?: 'left' | 'right';
  label?: string;
  heading: string;
  content: string;
  cta?: {
    text: string;
    href: string;
  };
}

const { 
  image, 
  imageAlt = '',
  imagePosition = 'left',
  label,
  heading, 
  content,
  cta
} = Astro.props;
---

<section class={`split-content split-content--image-${imagePosition}`}>
  <div class="split-content__image-wrapper">
    <img 
      src={image} 
      alt={imageAlt}
      class="split-content__image"
      loading="lazy"
    />
  </div>
  
  <div class="split-content__text">
    <div class="split-content__text-inner">
      {label && <span class="split-content__label">{label}</span>}
      <h2 class="split-content__heading">{heading}</h2>
      <div class="split-content__content">
        <p>{content}</p>
      </div>
      {cta && (
        <a href={cta.href} class="split-content__cta">
          {cta.text}
          <span class="split-content__arrow">â†’</span>
        </a>
      )}
    </div>
  </div>
</section>

<style>
  .split-content {
    display: grid;
    grid-template-columns: 1fr;
    min-height: 70vh;
  }
  
  @media (min-width: 900px) {
    .split-content {
      grid-template-columns: 1fr 1fr;
    }
    
    .split-content--image-right .split-content__image-wrapper {
      order: 2;
    }
    
    .split-content--image-right .split-content__text {
      order: 1;
    }
  }
  
  .split-content__image-wrapper {
    position: relative;
    min-height: 400px;
  }
  
  @media (min-width: 900px) {
    .split-content__image-wrapper {
      min-height: auto;
    }
  }
  
  .split-content__image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .split-content__text {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--spacing-2xl) var(--spacing-lg);
    background: var(--color-cream);
  }
  
  @media (min-width: 900px) {
    .split-content__text {
      padding: var(--spacing-3xl);
    }
  }
  
  .split-content__text-inner {
    max-width: 500px;
  }
  
  .split-content__label {
    display: block;
    font-family: var(--font-sans);
    font-size: 0.7rem;
    font-weight: 500;
    letter-spacing: 0.2em;
    text-transform: uppercase;
    color: var(--color-terracotta);
    margin-bottom: var(--spacing-sm);
  }
  
  .split-content__heading {
    font-family: var(--font-serif);
    font-size: clamp(1.75rem, 4vw, 2.5rem);
    font-weight: 400;
    font-style: italic;
    line-height: 1.3;
    color: var(--color-charcoal);
    margin-bottom: var(--spacing-md);
  }
  
  .split-content__content {
    font-family: var(--font-sans);
    font-size: 0.95rem;
    line-height: 1.8;
    color: var(--color-charcoal);
    opacity: 0.85;
    margin-bottom: var(--spacing-lg);
  }
  
  .split-content__cta {
    display: inline-flex;
    align-items: center;
    gap: var(--spacing-sm);
    font-family: var(--font-sans);
    font-size: 0.75rem;
    font-weight: 500;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    color: var(--color-charcoal);
    text-decoration: none;
    transition: color var(--transition-fast);
  }
  
  .split-content__cta:hover {
    color: var(--color-terracotta);
  }
  
  .split-content__arrow {
    transition: transform var(--transition-fast);
  }
  
  .split-content__cta:hover .split-content__arrow {
    transform: translateX(4px);
  }
</style>
